<% layout('layouts/boilerplate') %>
<link
	href="https://api.mapbox.com/mapbox-gl-js/v2.12.0/mapbox-gl.css"
	rel="stylesheet" />
<script src="https://api.mapbox.com/mapbox-gl-js/v2.12.0/mapbox-gl.js"></script>
<div id="map" class="cluster-map"></div>
<h1>All Camps Page</h1>
<div>
	<a href="/camps/new">+ Add a Camp</a>
</div>
<% for( let camp of camps) { %>
<div class="card mb-3">
	<div class="row">
		<div class="col-md-4">
			<img
				src="https://images.unsplash.com/photo-1518602164578-cd0074062767?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=300&q=80"
				alt=""
				class="img-fuild" />
		</div>
		<div class="col-md-8">
			<div class="card-body">
				<h5 class="card-title"><%= camp.title %></h5>
				<p class="card-text"><%= camp.description %></p>
				<p class="card-text">
					<small class="text-muted"><%= camp.location %> </small>
				</p>
				<a class="btn btn-primary" href="/camps/<%= camp._id %>">Details</a>
			</div>
		</div>
	</div>
</div>
<% } %>
<script>
	const mapToken = '<%- process.env.MAPBOX_TOKEN %>';
	const campCoords = '<%-JSON.stringify(camps)%>';
</script>
<script src="/js/clusterMap.js"></script>
